* 简介
  | 容器    | 摘要                                    | 对应项目            |
  |---------+-----------------------------------------+---------------------|
  | mynginx | webserver                               |                     |
  | myphp   | php-fpm v7.2 + phalcon v3.3.2 + ioncube | erp、wms、scm、boss |
  | myredis | nosql                                   |                     |
  | mysql   | database                                |                     |

* Usage
*** clone项目, 并切入目录

*** 调整配置文件
    1. 修改docker-compose.yml中的 ~volumes~ 为自己的目录, 后半部分 ~/mnt/www~ 不需要调整. PS: 如果你调整了nginx, 那么这里也需要调整
    2. 根据情况调整各模块配置, 例如nginx配置: ~nginx/conf.d/erp.conf~

*** 执行命令
    #+begin_src bash
      docker-compose up -d
    #+end_src
   
*** 查看
    #+begin_src bash
      docker ps
    #+end_src
   
    #+begin_src text
      CONTAINER ID   IMAGE                COMMAND                  CREATED      STATUS        PORTS                               NAMES
      af95e9678bd1   nginx:latest         "nginx -g 'daemon of…"   5 days ago   Up 47 hours   0.0.0.0:80->80/tcp                  mynginx
      672be121061d   flashexpress/php     "docker-php-entrypoi…"   5 days ago   Up 47 hours   0.0.0.0:9000->9000/tcp              myphp
      540a001b7120   docker-lnmp_myphp2   "docker-php-entrypoi…"   5 days ago   Up 47 hours   9000/tcp, 0.0.0.0:9100->9100/tcp    myphp2
      26ac7fdf69eb   mysql:5.7            "docker-entrypoint.s…"   5 days ago   Up 47 hours   0.0.0.0:3306->3306/tcp, 33060/tcp   mysql
      9daa39ac3584   redis:4.0            "docker-entrypoint.s…"   5 days ago   Up 47 hours   0.0.0.0:6379->6379/tcp              myredis
    #+end_src

* FAQ
  1. nginx等服务日志在哪里? 

     在该项目的 ~data~ 目录下

  2. 为什么有个名为 ~common.config~ 的nginx配置文件?

     这个文件是用来共享代码的, 因为部分指令无法在单独的 ~.conf~ 文件内使用, 所以使用了一个文本文件进行引入共享.

     *并不推荐在严格环境下使用*

* other
** 最佳实践
   * Proxy SwitchyOmega https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif
   * whistle http://wproxy.org/whistle/
